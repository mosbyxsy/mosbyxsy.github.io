# 操作符

*创建于：2018-12-17；更新于：2018-12-18*

## 基本概念

合理的使用操作符可以减小代码量或者减小代码运行的时间，本文以8位为例；

在计算机中存储的是数值的补码，方便计算机计算减法(减去一个数等于加上这个数的相反数)；

数字分为有符号数和无符号数，有符号数的最高位代表正负(0代表正，1代表负)；
- 无符号数：`[0,255](2的8次方-1)`
- 有符号数：
    - 正数：`[1,127](2的7次方-1)`
    - 负数：`[-127,-1]`
    - 特殊：`0，-128`
    - 综合：`[-128,127]`

数字有原码,反码,补码等几种表现形式；
- 正数：原码=反码=补码=二进制数
- 负数(如-1)：
    - 原码：数值的绝对值(二进制数形式)加上符号位(10000001)
    - 反码：原码符号位不变，其余位取反(11111110)
    - 补码：反码加1(11111111)
    - 说明：原码+补码=10000000(10000001+11111110=10000000)


例如：
```javascript
1-1=1+(-1)=原(00000001)+原(10000001)=原(10000010)=-2 //明显不合理
1-1=1+(-1)=原(00000001)+原(10000001)=反(00000001)+反(11111110)=反(11111111)=原(10000000)=-0 //原(00000000)=反(00000000)=0
//出现了正负0存在两个编码，所以
1-1=1+(-1)=原(00000001)+原(10000001)=反(00000001)+反(11111110)=补(00000001)+补(11111111)=补(00000000)=原(00000000)=0
(-1)+(-127)=原(10000001)+原(11111111)=反(11111110)+反(10000000)=补(11111111)+补(10000001)=补(10000000)
//使补(10000000)代表-128(-128没有原码和反,补(10000000)=反(01111111)=原(00000000),这是不合理的)
```

## 逻辑与&&

全部子表达式为真，则返回最后一个子表达式的值，如果有子表达式为假则返回假子表达式的值，且后面的子表达式不会被执行;

## 逻辑或||

有一个子表达式为真，则返回真的子表达式的值，且后面的子表达式不执行；全部子表达式为假，则返回最后一个假表达式的值；

## 逻辑反!

如果表达式为真，则放回false，如果表达式为假，则返回true，通常使用`!!`来判断一个变量对应的布尔值；

优先级：! > && > ||

## 位与&

以特定的方式组合操作数(补码)中对应的位，如果对应的位都为1，那么结果就是1， 如果任意一个位是0 则结果就是0。

## 位或|

以特定的方式组合操作数(补码)中对应的位，如果对应的位存在1，那么结果就是1， 如果全部是0 则结果就是0。

## 位非~

```javascript
5=原(00000101)=反(00000101)=补(00000101)
//执行位非
~5=~补(00000101)=补(11111010)=反(11111001)=原(10000110)=-6

-6=原(10000110)=反(11111001)=补(11111010)
//执行位非
~(-6)=~补(11111010)=补(00000101)=反(00000101)=原(00000101)=5
```
可以总结出规律位非为取反减1，通常使用`~~4.9`来取整

## 异或^

操作数(补码)对应位不同则结果为1，相同则结果为0

## 位移<<

使指定值的二进制所有位都左移规定的次数，高位移出(舍弃)，低位的空位补零

## 位移>>

使指定值的二进制所有位都右移规定的次数，高位补上符号位，低位移出(舍弃)

## 无符号位移>>>

使指定值的二进制所有位都右移规定的次数，高位补零，低位移出(舍弃)

