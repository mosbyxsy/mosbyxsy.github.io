# vim使用

*创建于：2018-08-17；更新于：2018-08-17*

## 三种模式

命令模式(默认)，编辑模式，尾行模式

*另外还有一种可视模式(在命令模式下，输入V进入)

## 模式切换

### 命令模式->编辑模式

```
i 当前位置
a 光标向后移动一位
o 下起新行
O 上起新行
s 删除光标后面一个字符
r 替换光标所在字符
```

### 编辑模式->命令模式

esc 退出编辑模式，进入命令模式

### 命令模式->尾行模式

```
: 进入尾行模式
/ 指定内容查找
? 指定内容查找
```

### 尾行模式->命令模式

esc 或者 删除全部尾行内容

## 尾行模式

```
:q 退出
:w 保存
:wq 保存并退出
:q! 强制退出，放弃修改
:w! 强制保存,文本没有写权限
:set nu 显示行号
:set nonu 取消显示行号
:n 跳转到第n行
:s/目标/替换 替换当前行第一个
:s/目标/替换/g 替换整行相应内容
:%s/目标/替换/ 每行第一个
:%s/目标/替换/g 全文替换
:n1,n2s/目标/替换/g n1到n2之间全部替换
:n1,n2s/目标/替换/gc n1到n2之间逐个提示替换
/内容 查找指定内容(前面往后面找n,N切换)
?内容 查找指定内容(后面往前面找n,N切换)
```

## 命令模式

### 光标移动

```
a、字符级
	左（h）　　下（j）　　上（k）　　右（l）
b、单词级
	w word移动到下个单词首字母
	b before上个单词首字母
	e end下个单词结尾
c、行级
	0(数字) 行首
	$ 行尾
d、文档级
	G 文档最后一行
	nG 文档第n行
	gg 文档第一行
	n+enter 向下移动n行
```

### 内容删除

```
dd 删除当前行
ndd 自当前行向下删除n行
x 删除当前字符
cw 删除光标所在字母后面的字符
```

### 内容复制

```
cc 剪切当前行(会进入编辑模式)
nyy 自当前行剪切n行(会进入编辑模式)
yy 复制光标当前行
nyy 自当前行复制n行
p 对（删除）复制的内容进行粘贴
```

### 相关快捷操作

```
u 撤销
. 重复上次操作
ggVG 全选(gg第一行，V进入可视模式，G跳转最后一行)
ggVGy 复制全部
ZZ 退出编辑器，如果修改会线保存
```